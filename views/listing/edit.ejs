<% layout('layouts/boilerplate')%>
<div class="container">
    <h1 class="text-center mt-3">Edit vacancy</h1>
    <div class="row">
        <div class="col-sm-8 mx-auto">
            <div class="card mx-auto">
                <div class="card-body ">
                    <form action="/listings/<%=listing._id %>?_method=PUT" method="POST" noValidate class="mb-3 needs-validation">


                        <div class="form-group mb-3">
                            <label for="title">Title</label>
                            <input type="text" class="form-control" id="title" name="listing[title]" required value="<%=listing.title %>">
                            <div class="invalid-feedback">

                            </div>
                        </div>

                        <div class="form-group mb-3">
                            <label for="category">Category</label>
                            <input type="text" class="form-control" id="category" name="listing[category]" value="<%=listing.category %>" required>
                            <div class="invalid-feedback">

                            </div>
                        </div>

                        <div class="form-group mb-3">
                            <label for="title">Skill Set Required</label>
                            <select class="form-select" multiple name="listing[skillSetReq]">
                                <option 
                                <% if(listing.skillSetReq.includes("HTML") ){ %>
                                selected
                                <% } %>
                                value="HTML">HTML</option>
                                <option 
                                <% if(listing.skillSetReq.includes("CSS") ){ %>
                                    selected
                                    <% } %>
                                     value="CSS">CSS</option>
                                <option 
                                <% if(listing.skillSetReq.includes("Javascript") ){ %>
                                    selected
                                    <% } %>
                                    value="Javascript">Javascript</option>
                              </select>
                            <div class="invalid-feedback">
                               
                            </div>
                        </div>


                        <div class="form-group mb-3">
                            <label for="title">Skill Set I have</label>
                            <select class="form-select" multiple name="listing[skillSetHave]">
                                <option 
                                <% if(listing.skillSetHave.includes("HTML") ){ %>
                                    selected
                                    <% } %>
                                    value="HTML">
                                    HTML
                                </option>

                               <option 
                                <% if(listing.skillSetHave.includes("CSS") ){ %>
                                    selected
                                    <% } %>
                                    value="CSS">
                                    CSS
                                </option>
                                <option 
                                <% if(listing.skillSetHave.includes("Javascript") ){ %>
                                    selected
                                    <% } %>
                                    value="Javascript">
                                    Javascript
                                </option>
                              </select>
                            <div class="invalid-feedback">
                               
                            </div>
                        </div>

                        <div class="form-group mb-3">
                            <label for="title">Description</label>
                            <input type="text" class="form-control" id="title" name="listing[description]"  value="<%=listing.description%>" required>
                            <div class="invalid-feedback">

                            </div>
                        </div>

                        <button class="btn btn-success">Update Listing</button>
                        <a href="/listings/<%=listing._id%>" class="mx-5">Back to my listing</a>
                </div>
            </div>
        </div>

    </div>
</div>

